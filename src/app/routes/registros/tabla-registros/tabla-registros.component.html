<p-table [value]="data" [tableStyle]="{ 'min-width': '50rem' }"
  styleClass="p-datatable-striped white-space-nowrap text-overflow-ellipsis">
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="fecha_creacion">
        Fecha Creación <p-sortIcon field="fecha_creacion" />
      </th>
      <th pSortableColumn="usuario_creacion">
        Creado por <p-sortIcon field="usuario_creacion" />
      </th>
      <th pSortableColumn="descripcion">
        Descripción <p-sortIcon field="descripcion" />
      </th>
      <th pSortableColumn="codigo_moneda">
        Moneda <p-sortIcon field="codigo_moneda" />
      </th>
      <th pSortableColumn="monto_total">
        Monto <p-sortIcon field="monto_total" />
      </th>
      <th pSortableColumn="monto_ganacia">
        Monto Ganancia <p-sortIcon field="monto_ganacia" />
      </th>
      <th pSortableColumn="monto_impuesto">
        Total Impuesto <p-sortIcon field="monto_impuesto" />
      </th>
      <th alignFrozen="right" pFrozenColumn>
        Opciones
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-data>
    <tr>
      <td>{{data.fecha_creacion | date:'dd/MM/yyyy'}}</td>
      <td>{{data.usuario_creacion }}</td>
      <td>{{data.descripcion}} </td>
      <td>{{data.codigo_moneda}} </td>
      <td>{{data.monto_total | number:'1.2-2'}} </td>
      <td>{{data.monto_ganacia | number:'1.2-2'}} </td>
      <td>{{data.monto_impuesto | number:'1.2-2'}} </td>
      <td alignFrozen="right" pFrozenColumn class="justify-content-center" style="display: flex; gap: 0.5rem;">
        <button pButton class="custom-button" title="Visualización" severity="info" (click)="vista.emit(data)">
          <fa-icon [icon]="['fas', 'eye']"></fa-icon>
        </button>
        <button pButton class="custom-button" title="Edición" severity="warning" (click)="editar.emit(data)">
          <fa-icon [icon]="['fas', 'edit']"></fa-icon>
        </button>
        <button pButton class="custom-button" title="Eliminación" severity="danger"  (click)="eliminarConfirmacion($event,data)">
          <fa-icon [icon]="['fas', 'trash-alt']"></fa-icon>
        </button>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="8">No se encontraron registros.</td>
    </tr>
  </ng-template>
</p-table>

<p-confirmDialog></p-confirmDialog>
